{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PC\\\\Desktop\\\\Proyecto_Ciclo 4\\\\empleado_front\\\\src\\\\components\\\\login\\\\login.js\";\nimport React from 'react';\nimport axios from \"axios\";\nimport { Container, Form, Button, Row, Col } from \"react-bootstrap\";\nimport { APIHOST as host } from \"../../app.json\";\nimport './login.css';\nimport { isNull } from \"util\";\nimport Cookies from \"universal-cookie\";\nimport { calcularExpiracionSesion } from \"../helper/helper\";\nimport Loading from \"../loading/loading\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst cookies = new Cookies();\nexport default class login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      Loading: false,\n      usuario: '',\n      pass: ''\n    };\n  }\n\n  iniciarSesion() {\n    this.setState({\n      Loading: true\n    });\n    axios.post(`${host}/usuarios/login`, {\n      usuario: this.state.usuario,\n      pass: this.state.pass\n    }).then(response => {\n      if (isNull(response.data.token)) {\n        alert(\"usuario y/o contraseña invalidas\");\n        console.log(response);\n      } else {\n        cookies.set('_s', response.data.token, {\n          path: \"/\",\n          expires: calcularExpiracionSesion()\n        });\n        this.props.history.push('/empleados');\n      }\n\n      this.setState({\n        Loading: false\n      });\n    }).catch(err => {\n      console.log(err);\n      this.setState({\n        Loading: false\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      id: \"login-container\",\n      children: [/*#__PURE__*/_jsxDEV(Loading, {\n        show: this.state.Loading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          children: [/*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Inicio de Sesi\\xF3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              sm: \"12\",\n              xs: \"12\",\n              md: {\n                span: 4,\n                offset: 4\n              },\n              lg: {\n                span: 4,\n                offset: 4\n              },\n              xl: {\n                span: 4,\n                offset: 4\n              },\n              children: /*#__PURE__*/_jsxDEV(Form, {\n                children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: \"Nombre de usuario\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 67,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    className: \"input\",\n                    placeholder: \"Usuario\",\n                    onChange: e => this.setState({\n                      usuario: e.target.value\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 68,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 66,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: \"Contrase\\xF1a\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 75,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    className: \"input\",\n                    type: \"password\",\n                    placeholder: \"Contrase\\xF1a\",\n                    onChange: e => this.setState({\n                      pass: e.target.value\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 76,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 74,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"primary\",\n                  style: {\n                    marginTop: 20,\n                    width: \"100%\"\n                  },\n                  onClick: () => {\n                    this.iniciarSesion();\n                  },\n                  children: \"Iniciar Sesi\\xF3n\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 82,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/PC/Desktop/Proyecto_Ciclo 4/empleado_front/src/components/login/login.js"],"names":["React","axios","Container","Form","Button","Row","Col","APIHOST","host","isNull","Cookies","calcularExpiracionSesion","Loading","cookies","login","Component","constructor","props","state","usuario","pass","iniciarSesion","setState","post","then","response","data","token","alert","console","log","set","path","expires","history","push","catch","err","render","span","offset","e","target","value","marginTop","width"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from \"axios\";\nimport { Container, Form, Button, Row, Col } from \"react-bootstrap\";\nimport { APIHOST as host } from \"../../app.json\";\nimport './login.css'\nimport { isNull } from \"util\";\nimport Cookies from \"universal-cookie\";\nimport { calcularExpiracionSesion } from \"../helper/helper\";\nimport  Loading from \"../loading/loading\"\n\nconst cookies = new Cookies(); \n\nexport default class login extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = { \n            Loading: false,\n            usuario:'',\n            pass:'',\n        };\n    }\n    iniciarSesion(){\n        this.setState({ Loading: true});\n\n        axios.post(`${host}/usuarios/login`, {\n            usuario: this.state.usuario,\n            pass: this.state.pass\n        })\n        .then((response)=>{\n            if(isNull(response.data.token)){\n                alert(\"usuario y/o contraseña invalidas\");\n                console.log(response);\n            }\n            else{\n                cookies.set('_s', response.data.token, {\n                    path: \"/\",\n                    expires: calcularExpiracionSesion(),\n                });\n                this.props.history.push('/empleados');\n            }\n            this.setState({ Loading: false});\n        })\n        .catch((err) =>{\n            console.log(err);\n            this.setState({ Loading: false});\n        }); \n    }\n    render() { \n        return ( \n            <Container id=\"login-container\">\n                <Loading  show={this.state.Loading}/>\n                <Row>\n                    <Col>\n                    <Row>\n                        <h2>Inicio de Sesión</h2>\n                    </Row>\n                    <Row>\n                    <Col\n                        sm=\"12\"\n                        xs=\"12\"\n                        md={{span: 4, offset:4}}\n                        lg={{span: 4, offset:4}}\n                        xl={{span: 4, offset:4}}\n                        >\n                <Form>\n                    <Form.Group >\n                    <Form.Label>Nombre de usuario</Form.Label>\n                    <Form.Control className=\"input\" placeholder=\"Usuario\" \n                    onChange={(e)=>\n                        this.setState({usuario: e.target.value})\n                    }\n                    />\n                    </Form.Group>\n                    <Form.Group >\n                    <Form.Label>Contraseña</Form.Label>\n                    <Form.Control className=\"input\" type=\"password\" placeholder=\"Contraseña\"\n                    onChange={(e)=>\n                        this.setState({pass: e.target.value})\n                    }\n                    />\n                    </Form.Group>\n                    <Button \n                    variant=\"primary\" \n                    style={{ \n                        marginTop: 20,\n                        width: \"100%\"\n                    }}\n                    onClick={()=>{\n                        this.iniciarSesion();\n                    }}\n                    >\n                        Iniciar Sesión\n                    </Button>\n                </Form>\n                </Col>\n                </Row>\n                </Col>\n                </Row>\n            </Container>\n        );\n    }\n}\n\n"]},"metadata":{},"sourceType":"module"}