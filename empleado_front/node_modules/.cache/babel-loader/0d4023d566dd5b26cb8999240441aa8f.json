{"ast":null,"code":"import { isUndefined } from 'util';\nimport axios from 'axios';\nimport Cookies from 'universal-cookie';\nimport { APIHOST as host } from '../../app.json';\nconst cookies = new Cookies();\nexport function calculaExtraccionSesion() {\n  const now = new Date().getTime();\n  const newDate = now + 60 * 30 * 1000;\n  return new Date(newDate);\n}\nexport function getSession() {\n  return isUndefined(cookies.get('_s')) ? false : cookies.get('_s');\n}\n\nfunction renovarSesion() {\n  const sesion = getSession();\n  if (!sesion) window.location.href = '/login';\n  cookies.set('_s', sesion, {\n    path: '/',\n    expires: calculaExtraccionSesion()\n  });\n  return sesion;\n}\n\nexport const request = {\n  get: function (services) {\n    let token = renovarSesion();\n    return axios.get(`${host}${services}`, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n  },\n  post: function (services, data) {\n    let token = renovarSesion();\n    return axios.post(`${host}${services}`, data, {\n      headers: {\n        Authorization: `B`\n      }\n    });\n  }\n};","map":{"version":3,"sources":["C:/Users/PC/Desktop/Proyecto_Ciclo 4/empleado_front/src/components/helper/helper.js"],"names":["isUndefined","axios","Cookies","APIHOST","host","cookies","calculaExtraccionSesion","now","Date","getTime","newDate","getSession","get","renovarSesion","sesion","window","location","href","set","path","expires","request","services","token","headers","Authorization","post","data"],"mappings":"AAAA,SAASA,WAAT,QAA4B,MAA5B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,kBAApB;AACA,SAAQC,OAAO,IAAIC,IAAnB,QAA+B,gBAA/B;AAEA,MAAMC,OAAO,GAAG,IAAIH,OAAJ,EAAhB;AAEA,OAAO,SAASI,uBAAT,GAAmC;AACtC,QAAMC,GAAG,GAAG,IAAIC,IAAJ,GAAWC,OAAX,EAAZ;AACA,QAAMC,OAAO,GAAGH,GAAG,GAAG,KAAK,EAAL,GAAU,IAAhC;AACA,SAAO,IAAIC,IAAJ,CAASE,OAAT,CAAP;AACH;AAED,OAAO,SAASC,UAAT,GAAsB;AACzB,SAAOX,WAAW,CAACK,OAAO,CAACO,GAAR,CAAY,IAAZ,CAAD,CAAX,GAAiC,KAAjC,GAAyCP,OAAO,CAACO,GAAR,CAAY,IAAZ,CAAhD;AAEH;;AAED,SAASC,aAAT,GAAyB;AACrB,QAAMC,MAAM,GAAGH,UAAU,EAAzB;AACA,MAAI,CAACG,MAAL,EAAaC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,QAAvB;AAEbZ,EAAAA,OAAO,CAACa,GAAR,CAAY,IAAZ,EAAkBJ,MAAlB,EAA0B;AACtBK,IAAAA,IAAI,EAAE,GADgB;AAEtBC,IAAAA,OAAO,EAAEd,uBAAuB;AAFV,GAA1B;AAIA,SAAOQ,MAAP;AACH;;AAED,OAAO,MAAMO,OAAO,GAAG;AACnBT,EAAAA,GAAG,EAAE,UAASU,QAAT,EAAmB;AACpB,QAAIC,KAAK,GAAGV,aAAa,EAAzB;AACA,WAAOZ,KAAK,CAACW,GAAN,CAAW,GAAER,IAAK,GAAEkB,QAAS,EAA7B,EAAgC;AACnCE,MAAAA,OAAO,EAAE;AACLC,QAAAA,aAAa,EAAG,UAASF,KAAM;AAD1B;AAD0B,KAAhC,CAAP;AAKH,GARkB;AAUnBG,EAAAA,IAAI,EAAE,UAAUJ,QAAV,EAAoBK,IAApB,EAA0B;AAC/B,QAAIJ,KAAK,GAAGV,aAAa,EAAzB;AACA,WAAOZ,KAAK,CAACyB,IAAN,CAAY,GAAEtB,IAAK,GAAEkB,QAAS,EAA9B,EAAiCK,IAAjC,EAAuC;AAC/CH,MAAAA,OAAO,EAAE;AACLC,QAAAA,aAAa,EAAG;AADX;AADsC,KAAvC,CAAP;AAMA;AAlBkB,CAAhB","sourcesContent":["import { isUndefined } from 'util';\nimport axios from 'axios';\nimport Cookies from 'universal-cookie';\nimport {APIHOST as host } from '../../app.json';\n\nconst cookies = new Cookies();\n\nexport function calculaExtraccionSesion() {\n    const now = new Date().getTime();\n    const newDate = now + 60 * 30 * 1000;\n    return new Date(newDate);\n}\n\nexport function getSession() {\n    return isUndefined(cookies.get('_s')) ? false : cookies.get('_s');\n\n}\n\nfunction renovarSesion() {\n    const sesion = getSession();\n    if (!sesion) window.location.href = '/login';\n\n    cookies.set('_s', sesion, {\n        path: '/',\n        expires: calculaExtraccionSesion(),\n    });\n    return sesion;\n}\n\nexport const request = {\n    get: function(services) {\n        let token = renovarSesion();\n        return axios.get(`${host}${services}`, {\n            headers: {\n                Authorization: `Bearer ${token}`,\n            },\n        });\n    },\n\n    post: function (services, data) {\n     let token = renovarSesion();\n     return axios.post(`${host}${services}`, data, {\n    headers: {\n        Authorization: `B`\n    }\n     })\n\n    }\n};\n\n"]},"metadata":{},"sourceType":"module"}