{"ast":null,"code":"import { isUndefined } from \"util\";\nimport axios from \"axios\";\nimport Cookies from \"universal-cookie\";\nimport { APIHOST as host } from \"../../app.json\";\nconst cookies = new Cookies();\nexport function calcularExpiracionSesion() {\n  const now = new Date().getTime();\n  const newDate = now + 60 * 30 * 1000;\n  return new Date(newDate);\n}\nexport function getSession() {\n  return isUndefined(cookies.get('_s')) ? false : cookies.get('_s');\n}\n\nfunction renovarSesion() {\n  const sesion = getSession();\n\n  if (!sesion) {\n    window.location.href = \"/login\";\n  }\n\n  cookies.set('_s', sesion, {\n    path: \"/\",\n    expires: calcularExpiracionSesion()\n  });\n  return sesion;\n}\n\nexport const request = {\n  get: function (services) {\n    let token = renovarSesion();\n    return axios.get(`${host}${services}`, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n  },\n  post: function (services, data) {\n    let token = renovarSesion();\n    return axios.post(`${host}${services}`, data, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n  },\n  put: function (services, data) {\n    let token = renovarSesion();\n    return axios.put(`${host}${services}`, data, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n  }\n};","map":{"version":3,"sources":["C:/Users/PC/Desktop/Proyecto_Ciclo 4/empleado_front/src/components/helper/helper.js"],"names":["isUndefined","axios","Cookies","APIHOST","host","cookies","calcularExpiracionSesion","now","Date","getTime","newDate","getSession","get","renovarSesion","sesion","window","location","href","set","path","expires","request","services","token","headers","Authorization","post","data","put"],"mappings":"AAAA,SAASA,WAAT,QAA4B,MAA5B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAQC,OAAR,MAAsB,kBAAtB;AACA,SAASC,OAAO,IAAIC,IAApB,QAAgC,gBAAhC;AAEA,MAAMC,OAAO,GAAG,IAAIH,OAAJ,EAAhB;AAEA,OAAO,SAASI,wBAAT,GAAoC;AACvC,QAAMC,GAAG,GAAG,IAAIC,IAAJ,GAAWC,OAAX,EAAZ;AACA,QAAMC,OAAO,GAAGH,GAAG,GAAE,KAAK,EAAL,GAAU,IAA/B;AACA,SAAO,IAAIC,IAAJ,CAASE,OAAT,CAAP;AACH;AAED,OAAO,SAASC,UAAT,GAAqB;AACxB,SAAOX,WAAW,CAACK,OAAO,CAACO,GAAR,CAAY,IAAZ,CAAD,CAAX,GAAgC,KAAhC,GAAuCP,OAAO,CAACO,GAAR,CAAY,IAAZ,CAA9C;AACH;;AAED,SAASC,aAAT,GAAwB;AACpB,QAAMC,MAAM,GAAEH,UAAU,EAAxB;;AACA,MAAI,CAACG,MAAL,EAAY;AACRC,IAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAqB,QAArB;AACH;;AACDZ,EAAAA,OAAO,CAACa,GAAR,CAAY,IAAZ,EAAkBJ,MAAlB,EAAyB;AACrBK,IAAAA,IAAI,EAAC,GADgB;AAErBC,IAAAA,OAAO,EAAEd,wBAAwB;AAFZ,GAAzB;AAIA,SAAOQ,MAAP;AACH;;AAED,OAAO,MAAMO,OAAO,GAAE;AAClBT,EAAAA,GAAG,EAAE,UAASU,QAAT,EAAkB;AACnB,QAAIC,KAAK,GAACV,aAAa,EAAvB;AACA,WAAOZ,KAAK,CAACW,GAAN,CAAW,GAAER,IAAK,GAAEkB,QAAS,EAA7B,EAA+B;AAClCE,MAAAA,OAAO,EAAC;AACJC,QAAAA,aAAa,EAAE,UAASF,KAAM;AAD1B;AAD0B,KAA/B,CAAP;AAKH,GARiB;AASlBG,EAAAA,IAAI,EAAE,UAAUJ,QAAV,EAAoBK,IAApB,EAAyB;AAC3B,QAAIJ,KAAK,GAAEV,aAAa,EAAxB;AACA,WAAOZ,KAAK,CAACyB,IAAN,CAAY,GAAEtB,IAAK,GAAEkB,QAAS,EAA9B,EAAiCK,IAAjC,EAAsC;AACzCH,MAAAA,OAAO,EAAC;AACJC,QAAAA,aAAa,EAAG,UAASF,KAAM;AAD3B;AADiC,KAAtC,CAAP;AAKH,GAhBiB;AAiBlBK,EAAAA,GAAG,EAAE,UAAUN,QAAV,EAAoBK,IAApB,EAAyB;AAC1B,QAAIJ,KAAK,GAAEV,aAAa,EAAxB;AACA,WAAOZ,KAAK,CAAC2B,GAAN,CAAW,GAAExB,IAAK,GAAEkB,QAAS,EAA7B,EAAgCK,IAAhC,EAAqC;AACxCH,MAAAA,OAAO,EAAC;AACJC,QAAAA,aAAa,EAAG,UAASF,KAAM;AAD3B;AADgC,KAArC,CAAP;AAKH;AAxBiB,CAAf","sourcesContent":["import { isUndefined } from \"util\";\nimport axios from \"axios\";\nimport  Cookies  from \"universal-cookie\";\nimport { APIHOST as host } from \"../../app.json\";\n\nconst cookies = new Cookies();\n\nexport function calcularExpiracionSesion (){\n    const now = new Date().getTime();\n    const newDate = now +60 * 30 * 1000;\n    return new Date(newDate);\n}\n\nexport function getSession(){\n    return isUndefined(cookies.get('_s'))? false: cookies.get('_s');\n}\n\nfunction renovarSesion(){\n    const sesion= getSession();\n    if (!sesion){\n        window.location.href=\"/login\";\n    }\n    cookies.set('_s', sesion,{\n        path:\"/\",\n        expires: calcularExpiracionSesion()\n    });\n    return sesion;\n}\n\nexport const request ={\n    get: function(services){\n        let token=renovarSesion();\n        return axios.get(`${host}${services}`,{\n            headers:{\n                Authorization:`Bearer ${token}`,\n            },\n        });\n    },    \n    post: function (services, data){\n        let token= renovarSesion();\n        return axios.post(`${host}${services}`, data,{\n            headers:{\n                Authorization: `Bearer ${token}`,\n            },\n        });\n    },\n    put: function (services, data){\n        let token= renovarSesion();\n        return axios.put(`${host}${services}`, data,{\n            headers:{\n                Authorization: `Bearer ${token}`,\n            },\n        });\n    },\n};"]},"metadata":{},"sourceType":"module"}