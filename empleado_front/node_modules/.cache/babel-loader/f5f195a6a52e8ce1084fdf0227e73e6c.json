{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PC\\\\Desktop\\\\Proyecto_Ciclo 4\\\\empleado_front\\\\src\\\\components\\\\empleados\\\\crud\\\\editar.js\";\nimport React from 'react';\nimport { Container, Row, Form, Button } from 'react-bootstrap';\nimport { request } from '../../helper/helper';\nimport Loading from '../../loading/loading';\nimport MessagePrompt from '../../prompts/message';\nimport ConfirmationPrompt from '../../prompts/confirmation';\nimport \"../empleados.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class EmpleadosEditar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      idEmpleado: this.props.getIdEmpleado(),\n      rediret: false,\n      message: {\n        text: \"\",\n        show: false\n      },\n      confirmation: {\n        title: \"Modificar empleados\",\n        text: \"¿Esta seguro de guardar los cambios?\",\n        show: false\n      },\n      Loading: false,\n      empleado: {\n        nombre: \"\",\n        apellido_p: \"\",\n        apellido_m: \"\",\n        telefono: \"\",\n        mail: \"\",\n        direccion: \"\"\n      }\n    };\n    this.onExitedMessage = this.onExitedMessage.bind(this);\n    this.onCancel = this.onCancel.bind(this);\n    this.onConfirm = this.onConfirm.bind(this);\n  }\n\n  componentDidMount() {\n    this.getEmpleado();\n  }\n\n  getEmpleado() {\n    this.setState({\n      loading: true\n    });\n    request.get(`/empleados/${this.state.idEmpleado}`).then(response => {\n      this.setState({\n        empleado: response.data,\n        Loading: false\n      });\n    }).catch(err => {\n      console.error(err);\n      this.setState({\n        loading: false\n      });\n    });\n  }\n\n  setValue(index, value) {\n    this.setState({\n      empleado: { ...this.state.empleado,\n        [index]: value\n      }\n    });\n  }\n\n  guardarEmpleados() {\n    this.setState({\n      loading: true\n    });\n    request.put(`/empleados/${this.state.idEmpleado}`, this.state.empleado).then(response => {\n      if (response.data.exito) {\n        this.setState({\n          rediret: response.data.exito,\n          message: {\n            text: response.data.msg,\n            show: true\n          }\n        });\n        this.reloadPage(); //this.props.changeTab(\"Buscar\");\n      }\n\n      this.setState({\n        loading: false\n      });\n    }).catch(err => {\n      console.error(err);\n      this.setState({\n        loading: true\n      });\n    });\n  }\n\n  onExitedMessage() {\n    if (this.state.rediret) {\n      this.props.changeTab(\"Buscar\");\n    }\n  }\n\n  onCancel() {\n    this.setState({\n      confirmation: { ...this.state.confirmation,\n        show: false\n      }\n    });\n  }\n\n  onConfirm() {\n    this.setState({\n      confirmation: { ...this.state.confirmation,\n        show: false\n      }\n    }, this.guardarEmpleados());\n  }\n\n  reloadPage() {\n    setTimeout(() => {\n      window.location.reload();\n    }, 2500);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      id: \"empleados-crear-container\",\n      children: [/*#__PURE__*/_jsxDEV(MessagePrompt, {\n        text: this.state.message.text,\n        show: this.state.message.show,\n        duration: 2500,\n        onExited: this.onExitedMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ConfirmationPrompt, {\n        show: this.state.confirmation.show,\n        title: this.state.confirmation.title,\n        text: this.state.confirmation.text,\n        onCancel: this.onCancel,\n        onConfirm: this.onConfirm\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Loading, {\n        show: this.state.Loading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"EDITAR EMPLEADOS\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"form-container\",\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Nombre\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              value: this.state.empleado.nombre,\n              onChange: e => this.setValue(\"nombre\", e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Primer Apellido\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              value: this.state.empleado.apellido_p,\n              onChange: e => this.setValue(\"apellido_p\", e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Segundo Apellido\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              value: this.state.empleado.apellido_m,\n              onChange: e => this.setValue(\"apellido_m\", e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Telefono\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              value: this.state.empleado.telefono,\n              onChange: e => this.setValue(\"telefono\", e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            controlId: \"formBasicEmail\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Correo Electronico\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              value: this.state.empleado.mail,\n              onChange: e => this.setValue(\"mail\", e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Direccion\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                value: this.state.empleado.direccion,\n                onChange: e => this.setValue(\"direccion\", e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: () => this.setState({\n              confirmation: { ...this.state.confirmation,\n                show: true\n              }\n            }),\n            children: \"Guardar Cambios\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/PC/Desktop/Proyecto_Ciclo 4/empleado_front/src/components/empleados/crud/editar.js"],"names":["React","Container","Row","Form","Button","request","Loading","MessagePrompt","ConfirmationPrompt","EmpleadosEditar","Component","constructor","props","state","idEmpleado","getIdEmpleado","rediret","message","text","show","confirmation","title","empleado","nombre","apellido_p","apellido_m","telefono","mail","direccion","onExitedMessage","bind","onCancel","onConfirm","componentDidMount","getEmpleado","setState","loading","get","then","response","data","catch","err","console","error","setValue","index","value","guardarEmpleados","put","exito","msg","reloadPage","changeTab","setTimeout","window","location","reload","render","e","target"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Container, Row, Form, Button } from 'react-bootstrap';\nimport { request } from '../../helper/helper';\nimport Loading from '../../loading/loading';\nimport MessagePrompt from '../../prompts/message';\nimport ConfirmationPrompt from '../../prompts/confirmation';\nimport \"../empleados.css\";\n\n\nexport default class EmpleadosEditar extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            idEmpleado: this.props.getIdEmpleado(),\n            rediret:false,\n            message:{\n                text: \"\",\n                show: false,\n            },\n            confirmation:{\n                title:\"Modificar empleados\",\n                text:\"¿Esta seguro de guardar los cambios?\",\n                show: false,\n            },\n            Loading:false,\n            empleado: {\n                nombre: \"\",\n                apellido_p:\"\",\n                apellido_m:\"\",\n                telefono:\"\",\n                mail:\"\",\n                direccion:\"\"\n            }\n        };\n        this.onExitedMessage = this.onExitedMessage.bind(this);\n        this.onCancel= this.onCancel.bind(this);\n        this.onConfirm= this.onConfirm.bind(this);\n    }\n\n\n    componentDidMount(){\n        this.getEmpleado();\n    }\n\n    getEmpleado(){\n        this.setState({ loading: true });\n        request\n        .get(`/empleados/${this.state.idEmpleado}`)\n        .then((response)=>{\n            this.setState({\n                empleado: response.data,\n                Loading:false,\n            });\n        })\n        .catch((err)=>{\n            console.error(err);\n            this.setState({ loading: false });\n        });\n    }\n\n    setValue(index, value){\n        this.setState({\n            empleado:{\n                ...this.state.empleado,\n                [index] : value,\n            },\n        });\n    }\n\n    guardarEmpleados(){\n        this.setState({ loading:true });\n        request\n        .put(`/empleados/${this.state.idEmpleado}`, this.state.empleado)\n        .then((response)=>{\n            if(response.data.exito){\n                this.setState({\n                    rediret: response.data.exito,\n                    message:{\n                        text: response.data.msg,\n                        show:true,\n                    },\n                });\n                this.reloadPage();\n                //this.props.changeTab(\"Buscar\");\n            }\n            this.setState({ loading:false });\n        })\n        .catch((err)=>{\n            console.error(err);\n            this.setState({ loading:true });\n        });\n    }\n\n    onExitedMessage(){\n        if(this.state.rediret){\n            this.props.changeTab(\"Buscar\");\n        }\n    }\n\n    onCancel(){\n        this.setState({\n            confirmation:{\n                ...this.state.confirmation,\n                show: false,\n            },\n        });\n    }\n\n    onConfirm(){\n        this.setState(\n        {\n            confirmation:{\n                ...this.state.confirmation,\n                show: false,\n            },\n        },\n        this.guardarEmpleados()\n        );\n    }\n\n    reloadPage(){\n        setTimeout(()=>{\n            window.location.reload();\n        }, 2500);\n    }\n\n    render() { \n        return (\n            <Container id=\"empleados-crear-container\">\n                <MessagePrompt \n                text={this.state.message.text}\n                show={this.state.message.show}\n                duration={2500}\n                onExited={this.onExitedMessage}\n                />\n                \n                <ConfirmationPrompt \n                show={this.state.confirmation.show}\n                title={this.state.confirmation.title}\n                text={this.state.confirmation.text}\n                onCancel={this.onCancel}\n                onConfirm={this.onConfirm}\n                />\n                \n                <Loading show={ this.state.Loading }/>\n                <Row>\n                    <h2>EDITAR EMPLEADOS</h2>\n                </Row>\n                <Row className=\"form-container\">\n                <Form>\n                    <Form.Group className=\"mb-3\">\n                        <Form.Label>Nombre</Form.Label>\n                        <Form.Control \n                        value={this.state.empleado.nombre}\n                            onChange={(e)=> this.setValue(\"nombre\", e.target.value)}\n                        />\n                    </Form.Group>\n                    <Form.Group className=\"mb-3\" >\n                        <Form.Label>Primer Apellido</Form.Label>\n                        <Form.Control \n                        value={this.state.empleado.apellido_p}\n                            onChange={(e)=> this.setValue(\"apellido_p\", e.target.value)}\n                        />\n                    </Form.Group>\n                    <Form.Group className=\"mb-3\" >\n                        <Form.Label>Segundo Apellido</Form.Label>\n                        <Form.Control \n                        value={this.state.empleado.apellido_m}\n                            onChange={(e)=> this.setValue(\"apellido_m\", e.target.value)}\n                        />\n                    </Form.Group>\n                    <Form.Group className=\"mb-3\" >\n                        <Form.Label>Telefono</Form.Label>\n                        <Form.Control \n                        value={this.state.empleado.telefono}\n                            onChange={(e)=> this.setValue(\"telefono\", e.target.value)}\n                        />\n                    </Form.Group>\n                    <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\n                        <Form.Label>Correo Electronico</Form.Label>\n                        <Form.Control \n                        value={this.state.empleado.mail}\n                            onChange={(e)=> this.setValue(\"mail\", e.target.value)}\n                        />\n                        <Form.Group className=\"mb-3\" >\n                        <Form.Label>Direccion</Form.Label>\n                        <Form.Control \n                        value={this.state.empleado.direccion}\n                            onChange={(e)=> this.setValue(\"direccion\", e.target.value)}\n                        />\n                    </Form.Group>\n                    </Form.Group>\n                    <Button variant=\"primary\" \n                    onClick={()=> \n                        this.setState({\n                            confirmation:{ ...this.state.confirmation, show:true }\n                        })\n                    }\n                    >\n                        Guardar Cambios\n                    </Button>\n                </Form>\n                </Row>\n            </Container>\n        );\n    }\n}\n\n"]},"metadata":{},"sourceType":"module"}